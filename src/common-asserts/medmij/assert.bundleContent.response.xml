<?xml version="1.0" encoding="UTF-8"?>
<!--
    Generic component to test the content of response Bundles in a MedMij context. It builds upon the common
    asserts defined for the Nictiz FHIR IG. 
-->

<nts:component  xmlns="http://hl7.org/fhir" xmlns:nts="http://nictiz.nl/xsl/testscript">
    <nts:include value="_assert.bundleContent.response" scope="common"/>
    <nts:include value="medmij/_assert.bundleContent.general" scope="common">
        <nts:with-parameter name="direction" value="response"/>
    </nts:include>
    <action>
        <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) in the self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.url.contains('http://fhir.nl/fhir/NamingSystem/bsn') = false"/>
        </assert>
    </action>
</nts:component>
