<?xml version="1.0" encoding="UTF-8"?>
<!-- 
    Send a notification to the notification endpoint defined during setup. This will be an isolated "test" in the TestScript.
    This mechanism (ab)uses the TestScript create operation by using the `url` element to define the URL to send the POST to.
    @param name - A unique name for this notification sending instance.
-->
<nts:component xmlns="http://hl7.org/fhir" xmlns:nts="http://nictiz.nl/xsl/testscript">
    <test>
        <name value="{$name}"/>
        <description value="Send a notification to the notification endpoint specified during the setup."/>
        
        <variable>
            <name value="notifcationEndpoint"/>
            <hint value="The optional notification endpoint that the sending XIS can use to notify the receiving XIS"/>
        </variable>
        
        <action>
            <operation>
                <type>
                    <system value="http://hl7.org/fhir/testscript-operation-codes"/>
                    <code value="create"/>
                </type>
                <resource value="Resource"/>
                <label value="Notify receiving XIS"/>
                <description value="Send a notification to the specified endpoint of the receiving XIS."/>
                <url value="${notifcationEndpoint}"/>
            </operation>
        </action>
    </test>
</nts:component>
